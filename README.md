# BE-HandTris
ğŸ‘‰ í•¸ë“œ ëª¨ì…˜ ìº¡ì²˜ë¡œ ì¦ê¸°ëŠ” ì‹¤ì‹œê°„ 1:1 ëŒ€ê²° í…ŒíŠ¸ë¦¬ìŠ¤

## í”„ë¡œì íŠ¸ ì•„í‚¤í…ì³
<img width="960" alt="á„’á…¢á†«á„ƒá…³á„á…³á„…á…µá†¨á„‰á…³_á„Œá…®á†¼á„€á…¡á†«á„‡á…¡á†¯á„‘á…­_á„‹á…¡á„á…µá„á…¦á†¨á„á…¥" src="https://github.com/user-attachments/assets/0d824576-b7b4-4656-83c9-8c07e36b06e2">


## ERD
![image](https://github.com/HandTris/BE-HandTris/raw/dev/docs/images/ERD.png)

## Use Case
![image](https://github.com/HandTris/BE-HandTris/raw/dev/docs/images/UseCase.png)

# 0. ê°œë°œ í™˜ê²½, ì–¸ì–´, ë„êµ¬

- Intellij
- Data JPA
- JDK 21
- Mysql
- Redis (Cache DB)
- Docker
- Terraform
- Github Action
- Junit
- Mockito
- Prometheus
- Grafana
- PostMan (API Test)

# 1. ì½”ë”© ì»¨ë²¤ì…˜

## Entity Class

- [x] í•„ë“œëª…ì€ ì „ë¶€ `camelCase` ë¡œ ì‘ì„±
- [x] Class Nameì€ `PascalCase` ë¡œ ì‘ì„±

## Package Naming

- `Domain` ë³„ë¡œ íŒ¨í‚¤ì§€ë¥¼ ë¶„ë¦¬í•œë‹¤.
  - ex.) `íšŒì›`, `ì±„íŒ…ë°©`ì´ ì¡´ì¬í•œë‹¤ë©´ `member`,`chat`ë“±ì˜ í° ë‹¨ìœ„ì˜ Domainìœ¼ë¡œ ë¶„ë¦¬í•œë‹¤.
- ControllerëŠ” `api`,ServiceëŠ” `application`,RepositoryëŠ” `repo`ë¡œ Namingí•˜ì—¬ ê¸°ëŠ¥ë³„ë¡œ ë¶„ë¦¬
  - Serviceì˜ ê²½ìš° `impl`ê³¼ `service`ë¡œ ë‚˜ëˆ„ì–´ `DIP` ì¤€ìˆ˜
- DTOì™€ EntityëŠ” ë³„ë„ì˜ íŒ¨í‚¤ì§€ì—ì„œ ê´€ë¦¬í•˜ë©°, DTOë‚´ë¶€ëŠ” Requestì™€ Response ìš©ë„ì— ë”°ë¼ íŒ¨í‚¤ì§€ë¥¼ ë”°ë¡œ ë‘ì–´ ë¶„ë¦¬í•œë‹¤.
  - DTOëŠ” `Inner Class` ë°©ì‹ì„ ì‚¬ìš©í•œë‹¤.
  - Namingì˜ ê²½ìš° `MemberDTO`ì˜ ê²½ìš°, íšŒì›ê°€ì…ê³¼ ì •ë³´ì¡°íšŒ DTOëŠ” ë‹¤ìŒê³¼ ê°™ì´ `SignUp`,`CheckInfo`ë¡œ ì •ì •í•œë‹¤.
- **ex)**

```markdown
root
â”œâ”€â”€ README.md
â”œâ”€â”€ build
â”‚Â Â  â”œâ”€â”€ classes
â”‚Â Â  â”‚Â Â  â””â”€â”€ java
â”‚Â Â  â”‚Â Â      â””â”€â”€ main
â”‚Â Â  â”‚Â Â          â””â”€â”€ jungle
â”‚Â Â  â”‚Â Â              â””â”€â”€ HandTris
â”‚Â Â  â”‚Â Â                  â”œâ”€â”€ HandTrisApplication.class
â”‚Â Â  â”‚Â Â                  â”œâ”€â”€ application
â”‚Â Â  â”‚Â Â                  â”‚Â Â  â”œâ”€â”€ impl
â”‚Â Â  â”‚Â Â                  â”‚Â Â  â””â”€â”€ service
â”‚Â Â  â”‚Â Â                  â”œâ”€â”€ domain
â”‚Â Â  â”‚Â Â                  â”‚Â Â  â”œâ”€â”€ exception
â”‚Â Â  â”‚Â Â                  â”‚Â Â  â””â”€â”€ repo
â”‚Â Â  â”‚Â Â                  â”œâ”€â”€ global
â”‚Â Â  â”‚Â Â                  â”‚Â Â  â”œâ”€â”€ config
â”‚Â Â  â”‚Â Â                  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ log
â”‚Â Â  â”‚Â Â                  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ security
â”‚Â Â  â”‚Â Â                  â”‚Â Â  â”‚Â Â  â””â”€â”€ ws
â”‚Â Â  â”‚Â Â                  â”‚Â Â  â”œâ”€â”€ discord
â”‚Â Â  â”‚Â Â                  â”‚Â Â  â”‚Â Â  â””â”€â”€ model
â”‚Â Â  â”‚Â Â                  â”‚Â Â  â”œâ”€â”€ dto
â”‚Â Â  â”‚Â Â                  â”‚Â Â  â”œâ”€â”€ exception
â”‚Â Â  â”‚Â Â                  â”‚Â Â  â”œâ”€â”€ filter
â”‚Â Â  â”‚Â Â                  â”‚Â Â  â”œâ”€â”€ handler
â”‚Â Â  â”‚Â Â                  â”‚Â Â  â”œâ”€â”€ jwt
â”‚Â Â  â”‚Â Â                  â”‚Â Â  â”œâ”€â”€ util
â”‚Â Â  â”‚Â Â                  â”‚Â Â  â””â”€â”€ validation
â”‚Â Â  â”‚Â Â                  â””â”€â”€ presentation
â”‚Â Â  â”‚Â Â                      â””â”€â”€ dto
â”‚Â Â  â”‚Â Â                          â”œâ”€â”€ request
â”‚Â Â  â”‚Â Â                          â””â”€â”€ response
â”‚Â Â  â”œâ”€â”€ resources
â”‚Â Â  â”‚Â Â  â””â”€â”€ main
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ db
â”‚Â Â  â”‚Â Â      Â Â  â””â”€â”€ migration
â”œâ”€â”€ build.gradle
â”œâ”€â”€ docker
â”‚Â Â  â”œâ”€â”€ Dockerfile
â”‚Â Â  â”œâ”€â”€ docker-compose.yml
â”‚Â Â  â””â”€â”€ monitor
â”‚Â Â      â”œâ”€â”€ grafana
â”‚Â Â      â”‚Â Â  â””â”€â”€ dashboards
â”‚Â Â      â”‚Â Â      â””â”€â”€ dashboards.yml
â”‚Â Â      â””â”€â”€ prometheus
â”‚Â Â          â””â”€â”€ prometheus.yml
â”œâ”€â”€ docs
â”‚Â Â  â”œâ”€â”€ API_Documentation.md
â”‚Â Â  â”œâ”€â”€ ERD.md
â”‚Â Â  â”œâ”€â”€ UseCase.md
â”‚Â Â  â””â”€â”€ images
â”‚Â Â      â”œâ”€â”€ ApiDocumentation.png
â”‚Â Â      â”œâ”€â”€ ERD.png
â”‚Â Â      â””â”€â”€ UseCase.png
â”œâ”€â”€ infra
â”‚Â Â  â”œâ”€â”€ alb.tf
â”‚Â Â  â”œâ”€â”€ ec2.tf
â”‚Â Â  â”œâ”€â”€ handtris.pem
â”‚Â Â  â”œâ”€â”€ network.tf
â”‚Â Â  â”œâ”€â”€ provider.tf
â”‚Â Â  â”œâ”€â”€ rds.tf
â”‚Â Â  â”œâ”€â”€ route.tf
â”‚Â Â  â”œâ”€â”€ variable.tf
â”‚Â Â  â””â”€â”€ version.tf
â”‚Â Â  â”‚Â Â  â””â”€â”€ resources
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ application-S3.yml
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ application-dev.yml
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ application-jwt.yml
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ application-prod.yml
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ application.yml
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ console-appender.xml
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ db
â”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ locust_dummy.sql
â”‚Â Â  â”‚Â Â      â”‚Â Â  â””â”€â”€ migration
â”‚Â Â  â”‚Â Â      â”‚Â Â      â”œâ”€â”€ V1__init.sql
â”‚Â Â  â”‚Â Â      â”‚Â Â      â””â”€â”€ V2__delete_avg_time_member_record.sql
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ discord-appender.xml
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ logback-dev.xml
â”‚Â Â  â”‚Â Â      â””â”€â”€ logback-prod.xml
```
  
## File Naming

- YMLíŒŒì¼ì€ `Kebab Case` ë¡œ Namingí•œë‹¤.
- DB ì„¤ì • ë°  í”„ë¡œì íŠ¸ì— í•„ìš”í•œ ì„¤ì •ë“¤ì€ `application.yml` ì— ì €ì¥í•˜ì—¬ì¤€ë‹¤.
- jwt,aws,mailë“±ì„ ë³„ë„ì˜ ymlíŒŒì¼ì„ ë§Œë“¤ì–´ ê´€ë¦¬í•œë‹¤.

## API ìš”ì²­ URl

- ë™ì‚¬ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.
- RestFulí•œ ë„¤ì´ë°ì„ ì‚¬ìš©í•œë‹¤.
- ex.) ${domain_name}s/

## DB & CI/CD
- AWS EC2ì— ìš´ì˜ì„œë²„ë¥¼ ìš´ì˜í•˜ë©° Github Actionê³¼ Dockerë¥¼ ì´ìš©í•˜ì—¬ CI/CDë¥¼ êµ¬ì¶•
- Mysql DBëŠ” RDSì— ìš´ì˜ì¤‘ì´ë©°, ê°™ì€ VPCê°€ ì•„ë‹ˆë¼ë©´ ì ‘ê·¼ë¶ˆê°€

# 2. ë ˆíŒŒì§€í† ë¦¬ ê´€ë¦¬ ê¸°ë²•

Organizationì—ì„œ BackEnd ë³„ë„ì˜ ë ˆíŒŒì§€í† ë¦¬ì—ì„œ ê´€ë¦¬í•©ë‹ˆë‹¤.

### **âš™ï¸** ë¸Œëœì¹˜ ê´€ë¦¬ ì „ëµ

### **âš™ï¸ Git-flow**
![trunked_base_development](https://www.optimizely.com/contentassets/569ac3ee0b124da19a5ac9ea2e8b2b4d/trunk-based-development.png)

**âš™ï¸ ë¸Œëœì¹˜ êµ¬ì„±**
- `feat` ë¸Œëœì¹˜ëŠ” í•˜ë‚˜ì˜ ê¸°ëŠ¥ì„ ê°œë°œí•˜ê¸° ìœ„í•œ ë¸Œëœì¹˜ì…ë‹ˆë‹¤. ë¶€ëª¨ëŠ”`develop`ì´ë©°, ê°œë°œì´ ì™„ë£Œë˜ë©´`develop`ì— mergeí•©ë‹ˆë‹¤. ë¸Œëœì¹˜ ì´ë¦„ì€ ë³´í†µ`feature/*`ì´ ë©ë‹ˆë‹¤.
- `dev` ë¸Œëœì¹˜ëŠ” ê°œë°œì„ ìœ„í•œ ë¸Œëœì¹˜ì…ë‹ˆë‹¤. ì—¬ëŸ¬`feature`ë“¤ì´ mergeë˜ëŠ” ì¥ì†Œì´ë©°, ì•„ì§ releaseë˜ì§€ ì•Šì€ ê¸°ëŠ¥ë“¤ì´ ëª¨ì—¬ ìˆê²Œ ë©ë‹ˆë‹¤.
- `main`ë¸Œëœì¹˜ëŠ” ì‹¤ì œ ìš´ì˜ ì¤‘ì¸ ì„œë¹„ìŠ¤ì˜ ë¸Œëœì¹˜ì…ë‹ˆë‹¤.
- `hotfix`ë¸Œëœì¹˜ëŠ” ì„œë¹„ìŠ¤ì— ë¬¸ì œê°€ ë°œìƒí–ˆì„ ë•Œ í•«í”½ìŠ¤ì— í•´ë‹¹í•˜ëŠ” ë¸Œëœì¹˜ì…ë‹ˆë‹¤. ê¸°ëŠ¥ ê°œë°œ(`feature`) ë“±ê³¼ ë‹¬ë¦¬ ë¹ ë¥´ê²Œ ëŒ€ì²˜í•´ì•¼ í•  í•„ìš”ê°€ ìˆê¸° ë•Œë¬¸ì—,`master`ë¸Œëœì¹˜ì— ì§ì ‘ mergeí•˜ëŠ” ì „ëµì„ ì·¨í•©ë‹ˆë‹¤.`dev`ê³¼ì˜ ì°¨ì´ê°€ ë°œìƒí•˜ê¸° ë•Œë¬¸ì—, ë‚˜ì¤‘ì— ì°¨ì´ë¥¼ mergeí•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.

## ğŸ›  Git Branch workflow
![image](https://github.com/DY-WhatSong/BE-What_Song/assets/39437170/70a022bc-ff52-48cd-b8a5-994d6b2b15f6)

- `Squash and Merge` ë°©ë²•ì„ ì°¨ìš©í•˜ì—¬ `Issue`,`Feature` ë‹¨ìœ„ ì»¤ë°‹ì„ í†µí•´ Mergeì‹œ ì§„í–‰ ì‚¬í•­ êµ¬ì¡° ì†ì‰½ê²Œ íŒŒì•…í•˜ëŠ” ê²ƒì„ ëª©ì ìœ¼ë¡œí•œë‹¤.
- ê° branch PRì‹œ `ì´ìŠˆí™”`í•˜ì—¬ ì½”ë“œì— ëŒ€í•œ í”¼ë“œë°± ë° í† ë¡  í›„ ìƒëŒ€ë°©ì´ `Merge`

### ë¸Œëœì¹˜ ë„¤ì´ë°

**âš™ï¸Â ë„¤ì´ë° íŒ¨í„´**

`#ì´ìŠˆë²ˆí˜¸`

**Ex)** ì´ìŠˆë²ˆí˜¸ê°€ 67ì¸ 'ë¡œê·¸ì¸ ê¸°ëŠ¥' ì´ìŠˆë¥¼ êµ¬í˜„í•˜ëŠ” ë¸Œëœì¹˜ë¥¼ ìƒì„±í•˜ëŠ” ê²½ìš°, ë¸Œëœì¹˜ ì´ë¦„ì„`#67`ë¡œ ì‘ì„±í•œë‹¤.

### ì»¤ë°‹ ë©”ì‹œì§€

**âš™ ë©”ì‹œì§€ êµ¬ì¡°**

`Type : ì œëª© #ì´ìŠˆë²ˆí˜¸`

`ë³¸ë¬¸`

**Ex)**ì´ìŠˆë²ˆí˜¸ê°€ 67ì¸ ì´ìŠˆì˜ ê¸°ëŠ¥ì„ êµ¬í˜„í•œ ë’¤ ì»¤ë°‹ì„ í•˜ëŠ” ìƒí™©ì´ë¼ë©´ ì»¤ë°‹ ë©”ì‹œì§€ì˜ ì œëª©ì„`feat : Aê¸°ëŠ¥ êµ¬í˜„ #67`ìœ¼ë¡œ ì‘ì„±í•œë‹¤.

**âš™ Type**

- `feat` : ìƒˆë¡œìš´ ê¸°ëŠ¥ì— ëŒ€í•œ ì»¤ë°‹
- `fix`	: ë²„ê·¸ ìˆ˜ì •ì— ëŒ€í•œ ì»¤ë°‹
- `docs` : ë¬¸ì„œ ìˆ˜ì •ì— ëŒ€í•œ ì»¤ë°‹
- `style` : ì½”ë“œ ìŠ¤íƒ€ì¼ í˜¹ì€ í¬ë§· ë“±ì— ê´€í•œ ì»¤ë°‹
- `refactor` : ì½”ë“œ ë¦¬íŒ©í† ë§ì— ëŒ€í•œ ì»¤ë°‹
- `test` : í…ŒìŠ¤íŠ¸ ì½”ë“œ ìˆ˜ì •ì— ëŒ€í•œ ì»¤ë°‹
- `chore` : íŒ¨í‚¤ì§€ ê´€ë ¨ ë° ë¹Œë“œì½”ë“œ ìˆ˜ì •

# 3. ì†Œê°œ í¬ìŠ¤í„°
![Handtris_Poster](https://github.com/user-attachments/assets/2ed785f8-c07d-4906-a99a-15a2860219c0)



# ê°œë°œê¸°ê°„

2024 06 20 ~ 2024 07 20

